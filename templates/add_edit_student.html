{% extends 'layout.html' %}

{% block title %}{% if student.id %}编辑学生信息{% else %}添加新学生{% endif %}{% endblock %}

{% block content %}
<h1 class="mb-4">{% if student.id %}编辑学生信息{% else %}添加新学生{% endif %}</h1>

<form method="POST" action="{% if student.id %}{{ url_for('edit_student', id=student.id) }}{% else %}{{ url_for('add_student') }}{% endif %}">
    <div class="mb-3">
        <label for="name" class="form-label">姓名 <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="name" name="name" value="{{ student.name or '' }}" required>
    </div>
    <div class="mb-3">
        <label for="gender" class="form-label">性别 <span class="text-danger">*</span></label>
        <select class="form-select" id="gender" name="gender" required>
            <option value="">请选择</option>
            <option value="男" {% if student.gender == '男' %}selected{% endif %}>男</option>
            <option value="女" {% if student.gender == '女' %}selected{% endif %}>女</option>
            <option value="其他" {% if student.gender == '其他' %}selected{% endif %}>其他</option>
        </select>
    </div>
    <div class="mb-3">
        <label for="age" class="form-label">年龄 <span class="text-danger">*</span></label>
        <input type="number" class="form-control" id="age" name="age" value="{{ student.age or '' }}" required min="1" max="100">
    </div>
    <div class="mb-3">
        <label for="student_id" class="form-label">学号 <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="student_id" name="student_id" value="{{ student.student_id or '' }}" required>
    </div>
    <div class="mb-3">
        <label for="contact_phone" class="form-label">联系电话</label>
        <input type="text" class="form-control" id="contact_phone" name="contact_phone" value="{{ student.contact_phone or '' }}">
    </div>
    <div class="mb-3">
        <label for="family_info" class="form-label">家庭信息</label>
        <textarea class="form-control" id="family_info" name="family_info" rows="3">{{ student.family_info or '' }}</textarea>
    </div>
    <div class="mb-3">
        <label for="class_name" class="form-label">就读班级</label>
        <input type="text" class="form-control" id="class_name" name="class_name" value="{{ student.class_name or '' }}">
    </div>
    <div class="mb-3">
        <label for="homeroom_teacher" class="form-label">班主任</label>
        <input type="text" class="form-control" id="homeroom_teacher" name="homeroom_teacher" value="{{ student.homeroom_teacher or '' }}">
    </div>
    <button type="submit" class="btn btn-primary">保存</button>
    <a href="{{ url_for('students') }}" class="btn btn-secondary">取消</a>
</form>
{% endblock %}
