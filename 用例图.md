
@startuml
usecaseDiagram
    actor "访客" as Guest
    actor "学生" as Student
    actor "教师" as Teacher
    actor "管理员" as Admin
    
    %% 认证相关用例
    Guest --> (登录系统)
    Student --> (退出系统)
    Teacher --> (退出系统)
    Admin --> (退出系统)
    
    %% 管理员独占用例
    Admin --> (管理用户)
    Admin --> (管理系统配置)
    Admin --> (查看系统日志)
    Admin --> (数据备份与恢复)
    
    %% 教师权限用例（管理员也具备）
    Teacher --> (管理学生)
    Teacher --> (管理课程)
    Teacher --> (管理选课)
    Teacher --> (记录考勤)
    Teacher --> (管理成绩)
    Teacher --> (奖惩管理)
    Teacher --> (查看班级信息)
    Teacher --> (排课管理)
    Teacher --> (发布通知)
    Teacher --> (家长沟通)
    Teacher --> (发送短信)
    Teacher --> (发送邮件)
    Teacher --> (查看统计分析)
    
    note right of Teacher
        教师可以管理学生、课程、考勤、
        成绩等教学相关功能
    end note
    
    %% 管理员继承教师权限
    Admin --> (发布通知)
    Admin --> (家长沟通)
    Admin --> (管理学生)
    Admin --> (发送短信)
    Admin --> (管理课程)
    Admin --> (管理选课)
    Admin --> (发送邮件)
    Admin --> (记录考勤)
    Admin --> (管理成绩)
    Admin --> (查看统计分析)
    Admin --> (奖惩管理)
    Admin --> (查看班级信息)
    Admin --> (排课管理)
    
    %% 学生用例
    Student --> (查看个人信息)
    Student --> (查看所选课程)
    Student --> (查看成绩)
    Student --> (查看考勤)
    Student --> (查看课表)
    Student --> (查看通知)
    Student --> (在线选课)
    Student --> (取消选课)
    Student --> (查看奖惩记录)
    Student --> (查看个人统计)
    Student --> (学生签到)
    
    note right of Student
        学生只能查看与自己相关的
        信息和执行有限的操作
    end note
    
    %% 扩展用例关系
    (管理学生) ..> (添加学生) : <<extend>>
    (管理学生) ..> (编辑学生) : <<extend>>
    (管理学生) ..> (删除学生) : <<extend>>
    (管理学生) ..> (查询学生) : <<extend>>
    
    (管理课程) ..> (添加课程) : <<extend>>
    (管理课程) ..> (编辑课程) : <<extend>>
    (管理课程) ..> (删除课程) : <<extend>>
    (管理课程) ..> (查询课程) : <<extend>>
    
    (管理选课) ..> (为学生添加课程) : <<extend>>
    (管理选课) ..> (为学生删除课程) : <<extend>>
    (管理选课) ..> (录入成绩) : <<extend>>
    
    (记录考勤) ..> (添加考勤记录) : <<extend>>
    (记录考勤) ..> (编辑考勤记录) : <<extend>>
    (记录考勤) ..> (删除考勤记录) : <<extend>>
    (记录考勤) ..> (查询考勤记录) : <<extend>>
    
    (管理成绩) ..> (录入考试成绩) : <<extend>>
    (管理成绩) ..> (录入平时成绩) : <<extend>>
    (管理成绩) ..> (修改成绩) : <<extend>>
    
    (奖惩管理) ..> (添加奖励) : <<extend>>
    (奖惩管理) ..> (添加处分) : <<extend>>
    (奖惩管理) ..> (编辑奖惩记录) : <<extend>>
    (奖惩管理) ..> (删除奖惩记录) : <<extend>>
    
    (排课管理) ..> (添加排课) : <<extend>>
    (排课管理) ..> (编辑排课) : <<extend>>
    (排课管理) ..> (删除排课) : <<extend>>
    
    (发布通知) ..> (添加通知) : <<extend>>
    (发布通知) ..> (编辑通知) : <<extend>>
    (发布通知) ..> (删除通知) : <<extend>>
    
    (家长沟通) ..> (发送通知给家长) : <<extend>>
    (家长沟通) ..> (群发通知给家长) : <<extend>>
    
    (查看统计分析) ..> (查看学生统计) : <<extend>>
    (查看统计分析) ..> (查看课程统计) : <<extend>>
    (查看统计分析) ..> (查看考勤统计) : <<extend>>
    (查看统计分析) ..> (查看成绩统计) : <<extend>>
    (查看统计分析) ..> (查看奖惩统计) : <<extend>>
    
    %% 学生扩展用例
    (查看个人信息) ..> (修改联系方式) : <<extend>>
    (查看所选课程) ..> (查看课程详情) : <<extend>>
    (查看成绩) ..> (查看成绩详情) : <<extend>>
    (查看考勤) ..> (查看考勤详情) : <<extend>>
    (查看课表) ..> (查看课程安排) : <<extend>>
    (查看通知) ..> (查看通知详情) : <<extend>>
    (查看奖惩记录) ..> (查看奖惩详情) : <<extend>>
    (查看个人统计) ..> (查看学习建议) : <<extend>>
    
    %% 包含关系
    (登录系统) ..> (身份验证) : <<include>>
    (退出系统) ..> (清除会话) : <<include>>
    
    %% 注释说明
    note right of Admin
        管理员拥有系统的最高权限，
        可以执行所有管理操作
    end note
    
    note right of Guest
        访客只能进行登录操作，
        登录后成为相应角色用户
    end note
@enduml